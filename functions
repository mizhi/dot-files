function workon () {
    if [[ -z $1 ]] ; then
        echo -e "\nUsage:\n\tworkon <virtualenv>\n"
    else
        source ~/Development/python/virtualenvs/$1/bin/activate ;
    fi
}

case $OSTYPE in
    darwin*) ALT_EMACS=guiemacs
        ;;
    linux*) ALT_EMACS=
        ;;
esac

function guiemacs () {
    exec open -a /usr/local/Cellar/emacs/HEAD/Emacs.app $@
}

function emc () {
    emacsclient -a "$ALT_EMACS" -n $@
}

function emcnw() {
    emacsclient -a "$ALT_EMACS" -nw $@
}

function substring() {
    HAYSTACK="$1"
    NEEDLE="$2"
    if [[ "${HAYSTACK#*$NEEDLE}" != "${HAYSTACK}" ]]; then
        return 0 # NEEDLE is in HAYSTACK
    else
        return 1 # NEEDLE isn't in HAYSTACK
    fi
}

function prefix_path_if_exists() {
    NEW_PART=$1
    if [ -d "$NEW_PART" ] && ! substring "$PATH", "$NEW_PART"; then
        export PATH="$NEW_PART:$PATH"
    fi
}
    
